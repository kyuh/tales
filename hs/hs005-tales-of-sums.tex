% Notes to authors:
%
% - Don't be afraid to just start writing, you'll probably
% 	have to rewrite most of it anyway.
% 
% - We can't introduce all of science in this book, and it's
% 	meant to give a taste of thinking like a scientist.
% 	Know what to leave out. 


% Thoughts on style:
% - Use shorter paragraphs, when possible. They're easier to read.

\documentclass{article}
\usepackage[margin=2in]{geometry}
\usepackage{graphicx}
\usepackage[toc,page]{appendix}
\usepackage{hyperref}
\usepackage{amsmath,amsfonts,amssymb,mathrsfs,amsthm}
\usepackage{multirow}
\usepackage{placeins}
\usepackage{subcaption}
%\usepackage{titlesec}

%\setcounter{secnumdepth}{4}

%\titleformat{\paragraph}
%{\normalfont\smallsize\bfseries}{\theparagraph}{1em}{}
%\titlespacing*{\paragraph}
%{0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}

% Default fixed font does not support bold face
\DeclareFixedFont{\ttb}{T1}{txtt}{bx}{n}{12} % for bold
\DeclareFixedFont{\ttm}{T1}{txtt}{m}{n}{12}  % for normal

\DeclareMathOperator*{\argmin}{arg\,min}  

% Custom colors
\usepackage{color}
\definecolor{deepblue}{rgb}{0,0,0.5}
\definecolor{deepred}{rgb}{0.6,0,0}
\definecolor{deepgreen}{rgb}{0,0.5,0}

\usepackage{listings}
\usepackage{courier}
\usepackage[parfill]{parskip}


\newcommand*\conj[1]{\overline{#1}}
\newcommand\floor[1]{\lfloor#1\rfloor}
\newcommand\ceil[1]{\lceil#1\rceil}

\newcommand\TheSolution{
  \mbox{}\par\nobreak
  \noindent
  \textbf{Solution:}\\
}

\newtheorem{theorem}{Theorem}
\newtheorem{case}{Case}
\newtheorem{lemma}{Lemma}
\newtheorem{exercise}{\\ \bf Exercise}

%\theorempostwork{\setcounter{case}{0}}

\makeatletter
\@addtoreset{case}{theorem}
\@addtoreset{case}{lemma}
\makeatother

% (Don't reset lemmas)
%\makeatletter
%\@addtoreset{lemma}{theorem}
%\makeatother

%\setcounter{secnumdepth}{0}


\title{Tales of Sums (Art of Science)}
\date{\vspace{-5ex}}

\begin{document}
\maketitle


% Central question: (Have one)

\section{Introduction}


\section{Terms and References}

\section{Problems}
% This section is kind of just an agglomeration of them for now
% Keep in mind - not all of science. Just enough to keep things interesting and somewhat rigorous (for the purpose of being interesting). 

% TODO: Have a few problems on changing indices
% (Maybe as part of the problem below, before the whole i vs n-i thing)


\begin{exercise}
\label{defining-sigma}

% This maybe should just be part of the text. 
% (Actually nvm, define it in the text but leave the exercise here.)
% (Or move the exercise up when it's ready. Or some hybrid of these.)
% (Wording of the question, esp. the intro, may need to change)

We've seen that the sigma-notation is a helpful way to write down an extended sum. If we have some sequence (essentially some "thing" dependent on an index $i$ ranging from 1 through $n$)\footnote{Note that the sum doesn't necessarily have to have an $a_2$ term or terms beyond that -- for example, $\sum_{i=1}^1 a_i$ is simply equal to $a_1$.}:

\begin{align*}
\sum_{i=1}^n a_i := a_1 + a_2 + ... + a_n 
\end{align*}

% TODO depending on context: "For example, ..."

We can actually define this notation as a mathematical quantity more rigorously. We'll define it recursively, as follows:

% TODO: Use := notation here?

\begin{align*}
\sum_{i=1}^1 a_i &= a_1 \\
\sum_{i=1}^n a_i &= \left(\sum_{i=1}^{n-1} a_i\right) + a_n & n > 1
\end{align*}

% TODO: Correct this statement based on context
We can now rigorously inspect and prove some properties that we've taken for granted before. For the following problems, let $\{a_i\}$ be any sequence. 

\begin{enumerate}
\item Prove that $\sum_{i=1}^{n-1} a_i = \sum_{i=1}^{n-1} a_{n-i}$ for integer $n \geq 2$. (Think about why this is true first.)
\end{enumerate}


\end{exercise}


\begin{exercise}
\label{power-2-sum}
% TODO: Give lead-up

Consider the following pattern:

\begin{align*}
1 + 1 &= 2 \\
1 + 1 + 2 &= 4 \\
1 + 1 + 2 + 4 &= 8 \\
1 + 1 + 2 + 4 + 8 &= 16 \\
...
\end{align*}


Another way of looking at it:

\begin{align*}
1 + 2^0 &= 2^1 \\
1 + 2^0 + 2^1 &= 2^2 \\
1 + 2^0 + 2^1 + 2^2 &= 2^3 \\
1 + 2^0 + 2^1 + 2^2 + 2^3 &= 2^4 \\
...
\end{align*}


Essentially, by summing up a bunch of powers of 2 in sequence (starting from 1), one just *almost* reaches the next power -- all we need is to add an extra 1!

% SCRAP: Essentially, by summing up a bunch of powers of 2 in sequence (starting from 1), one just *almost* reaches the next one!

Let's prove it. Prove that this pattern exists for all integer powers of 2 -- in other words, prove that $1 + \sum_{i=0}^{n-1} 2^i = 2^n$, for all integers $n \geq 1$.

\end{exercise}

\begin{exercise}
\label{sequence-recursive-sum}

Here's a bit of an odd sequence: Let the sequence $\{a_i\}$ be defined by

\begin{align*}
a_1 &= 1 \\
a_{n} &= \sum_{i=1}^{n-1} a_i
\end{align*}

In other words,

\begin{align*}
a_1 &= 1 \\
a_2 &= a_1 \\
a_3 &= a_1 + a_2 \\
a_4 &= a_1 + a_2 + a_3 \\
a_5 &= a_1 + a_2 + a_3 + a_4 \\
...
\end{align*}

Note that each term in the sequence is defined recursively on *all* the terms before it!

Find an explicit formula for $a_n$, and prove it. 

% TODO: Somewhere up there, in the actual material, explain recursion, explain recursive sequences, explain what it means to give explicit solution, give examples. This is a *really* important idea across tons of fields, and it's one that a lot of people have trouble grasping. Massive impact to be had here. </speech>

% Answer (without proof) in the hints
% HINT: Another exercise in this section may be very helpful... 
% (TODO: could just hint at it explicitly?)

\end{exercise}


\section{Solutions}

% TODO: Be specific and say e.g. "induction on $n$"?

\subsection{Exercise \ref{defining-sigma}, proving $\sum_{i=1}^{n-1} a_i = \sum_{i=1}^{n-1} a_{n-i}$ for $n \geq 2$}

We prove this claim using induction. 

The base case at $n = 2$ is clearly true, since $\sum_{i=1}^{2-1} a_i = a_1$, and $\sum_{i=1}^{2-1} a_{n-i} = a_1$ as well. 

Let's do the inductive step. We assume the statement is true at $n = k$, i.e. we assume $\sum_{i=1}^{k-1} a_i = \sum_{i=1}^{k-1} a_{k-i}$ -- and show that the statement is true at $n = k + 1$, i.e. we show that $\sum_{i=1}^{(k+1)-1} a_i = \sum_{i=1}^{(k+1)-1} a_{(k+1)-i}$.

We do this as follows:

\begin{align*}
\sum_{i=1}^{(k+1)-1} a_i &= \sum_{i=1}^{k} a_i \\
&= \sum_{i=1}^{k-1} a_i + a_k \\
&= \sum_{i=1}^{k-1} a_{k-i} + a_k && \text{Inductive assumption} \\
&= \sum_{i=1}^{k-1} a_{(k+1)-(i+1)} + a_{(k+1)-1} && \text{"Adding 0"} \\
&= \sum_{i=2}^{k} a_{(k+1)-i} + a_{(k+1)-1} && \text{Shifting summation index} \\
&= \sum_{i=1}^{k} a_{(k+1)-i} && \text{Combining "$i = 1$" term} \\
&= \sum_{i=1}^{(k+1)-1} a_{(k+1)-i} \\
\end{align*}

Hence, the inductive step holds, and therefore the claim holds for all integers $n \geq 2$. 

% TODO: For the "combining i = 1 term" step, need to show another property of sigma notation first. 
% (In fact, maybe this problem doesn't belong in the "rigorously defining sigma" stage...)


\subsection{Exercise \ref{power-2-sum}}

We prove this claim using induction. 

The base case at $n = 1$ is true -- clearly, $1 + 2^0 = 2^1$. 

Let's do the inductive step. We assume the statement is true at $n = k$, i.e. we assume $1 + \sum_{i=0}^{k-1} 2^i = 2^k$ -- and show that the statement is true at $n = k + 1$, i.e. we show that $1 + \sum_{i=0}^{k} 2^i = 2^{k+1}$.

We do this as follows: 

% TODO: Maybe I'm being a bit overly explicit here

\begin{align*}
1 + \sum_{i=0}^{k} 2^i &= 1 + \sum_{i=0}^{k-1} 2^i + 2^k \\
&= 2^k + 2^k && \text{Inductive assumption} \\
&= 2 \cdot 2^k \\
&= 2^1 \cdot 2^k \\
&= 2^{k+1} \\
\end{align*}

Hence, the inductive step holds, and therefore the claim holds for all integers $n \geq 1$. 

\subsection{Exercise \ref{sequence-recursive-sum}}

$a_n = 2^{n-2}$ for all $n \geq 2$. 

% SCRAP: We prove this claim using strong induction -- in other words, we will have a base case (here at $n = 2$), and to prove the claim for some $n = k$, we will assume that the statement is true for $n = 2$, ..., all the way up through $n = k - 1$. 

We prove this claim using \textbf{strong} induction. 

The base case at $n = 2$ is true, since:

\begin{align*}
\sum_{i=1}^{2-1} a_i &= a_1 \\
&= 1 && \text{(Value of $a_1$)} \\
&= 2^{2-2}
\end{align*}

We then prove the strong inductive step, proving that the statement is true for $n = k$, assuming that the statement is true for $n = 2$, ..., all the way up through $n = k - 1$.

\begin{align*}
a_k &= \sum_{i=1}^{k-1} a_i \\
&= a_1 + \sum_{i=2}^{k-1} a_i \\
&= 1 + \sum_{i=2}^{k-1} a_i && \text{(substitute value for $a_1$)} \\
&= 1 + \sum_{i=2}^{k-1} 2^{i-2} && \text{(strong inductive assumption)} \\
&= 1 + \sum_{i=0}^{(k-2)-1} 2^i && \text{(shifting summation index)} \\
&= 2^{(k-2)} && \text{(proved in Exercise \ref{power-2-sum})}
\end{align*}

Hence, the strong inductive step holds, and therefore the claim holds: $a_n = 2^{n-2}$ for all integers $n \geq 2$. 




\end{document}
