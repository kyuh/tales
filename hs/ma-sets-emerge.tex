%!TEX root = tales-main.tex


% Big theme here: Emergent properties
%	(i.e. what happens when we have this property (here, among members of sets)
%	we can get some interesting consequence (e.g. dimension))

\chapter{(Sets and Emergence)}

% Sth: "This might be the most boring way to start a chapter. In the past, we've talked about counting things -- here, we'll be talking about, quite literally, "things" (or more properly, collections of things)"


\section{(Sets -- collections of things)}

\begin{exercise}
What are the intersection and union of...
\begin{enumerate}[(a)]
\item ...the set $\{1, 2, 3\}$ and the set $\{2, 3, 4\}$?
\item ...the "null set" (the set with nothing in it) and any other set?
\item ...the set of all even integers, and the set of all odd integers?
\end{enumerate}
\end{exercise}

\begin{exercise}
What is the intersection of...
\begin{enumerate}[(a)]
\item ...the set of prime numbers, and the set of even numbers?
\item ...the set of integers divisible by 2, and the set of integers divisible by 3?
\end{enumerate}
\end{exercise}

% TODO: Need to have defined prime numbers at some point

\section{Problems}

\begin{problem}
\label{pr:amoeba-basic}
Suppose we have an amoeba. It has a probability $p_d$ of dying, and a probability $(1 - p_d)$ of dividing into two amoebas (which themselves have the same probabilities of dying and dividing). Given our one starting amoeba, what is the probability that the whole "family tree" dies out?
\end{problem}
% TODO: Insert solution (and revise it for rigor)
% TODO: Include another problem as an extension, where "magical amoeba" can divide into n copies of itself. Use as interesting plotting/limiting behavior exercise (connect to "yeah as n grows, less likely to die")
% TODO: Problem/extension - consider what happens when we have more than one starting amoeba

\begin{problem}
\label{pr:amoeba-caprep}
\end{problem}
% TODO: Mention the irony that this is actually the harder problem than the "infinite" case
% TODO: Link it back to the infinite case (likely using some fixed-point/convergence arguments, etc)

\begin{problem}
\label{pr:amoeba-nstart}
\end{problem}
% TODO: (This has a low CSD) Mention that this should be quite easy using some of the work done in the first amoeba problem 

\begin{problem}
\label{pr:amoeba-kdesc}
Suppose we have the situation described in Problem \ref{pr:amoeba-basic}, but we now have a "magical amoeba" that divides into $k$ children (and so does its descendants). 

\begin{enumerate}[(a)]
\item Intuitively, what should happen to the probability of the family tree's survival, as $k$ increases?
\item 
\end{enumerate}
\end{problem}

\newpage
\section{Terms and References}

\section{Hints}

\newpage
\section{Solutions}

\subsection{Problem \ref{pr:amoeba-basic}}

Let $p_F$ be the probability of the amoeba family dying out, starting from one amoeba. Ideally, we'd like to find what $p_F$ is, in terms of $p_d$. 

% TODO: Potentially bee more clear here. Emphasize using the "divide the world into two possibilities" trick
There are two (mutually exclusive) ways for that amoeba's family tree to die off: 
\begin{enumerate}
\item This amoeba dies.
\item This amoeba lives to divide into two, but the family dies off later on.
\end{enumerate} \hfill

Therefore, 
\begin{align*}
p_F &:= P(\text{ family dies }) \\
&= P(\text{ family dies from parental death }) \\
&\qquad + P(\text{ family dies from later death }) \\ % mutually exclusive
\end{align*}

Rephrasing this a little bit, we have:

\begin{align*}
&= P(\text{ family dies AND parent dies }) \\
&\qquad + P(\text{ family dies AND parent lives }) \\
&= P(\text{ parent dies }) \cdot P\left(\text{ family dies } \middle| \text{ parent dies }\right) \\
&\qquad + P(\text{ parent lives }) \cdot P\left(\text{ family dies } \middle| \text{ parent lives }\right) \\
&= p_d \cdot 1 \\
&\qquad + (1 - p_d) \cdot P\left(\text{ family dies } \middle| \text{ parent lives }\right)
\end{align*}

What is $P\left(\text{ family dies } \middle| \text{ parent lives }\right)$? In other words, what exactly is the probability that, even though the first amoeba divides into two, our family dies anyway?

If an amoeba has successfully lived to reproduce, then there are now two amoebas in its place. Each of them is now in the same situation as its parent (it could die or divide into two, further continuing the family line), and hence, by definition, also has probability $p_F$ of dying. 

Both amoebas must then independently have their family lines die under them in order for the amoeba line as a whole to die.

Therefore, 

\begin{align*}
&P\left(\text{ family dies } \middle| \text{ parent lives }\right) \\
&= P\left(\text{ family dies under child 1 AND family dies under child 2 } \right) \\
&= P\left(\text{ family dies under child 1} \right) \cdot P\left(\text{ family dies under child 2 } \right) \\
&= p_F \cdot p_F \\
&= p_F^2
\end{align*}

%TODO: Fix super/subscript formatting
%TODO: "Generations" term is wrong, use some other word (like line)

Combining everything above, we get that $p_F$ must satisfy the following relation:

\begin{equation}
p_F = p_d + (1-p_d)p_F^2
\end{equation}

% TODO: Philosophize a bit here on what we've done
% e.g. (starting this) This is the trick we've done -- we've managed to show that

Solving this gives $p_F = p_d / (1 - p_d)$ and $p_F = 1$. 

Which of these solutions is correct? While we could analyze this in a more complicated manner, here is a simple thought experiment: If $p_F = 1$, then no matter what $p_d$ is, the amoeba family will die. This would then be true even if $p_d = 0$ (in other words, no amoeba dies before reproducing), which would be nonsensical. 

% TODO: Possibly justify existence of this probability, and hence it being p_d / (1 - p_d) by necessity?

Hence, we are forced to conclude that $p_F = p_d / (1 - p_d)$.

% TODO: Get more into what this relation looks like? (Graph, numerical example at edge cases, etc) instead of (just?) the numerical example below.

For example, if $p_d = 1/4$, then $p_F = 1/3$.

$\square$

%\subsection{(Old solution scraps)}

%\begin{enumerate}
%\item The amoeba itself dies. (This occurs with probability $p_d$.)
%\item The amoeba survives, but dies off in future generations. The probability of the amoeba surviving (denote $P(parent survival)$) is $(1 - p_d)$. The probability of the generation dying off, given survival of the parent amoeba, is $P(gen survival | parent survival) = p_G^2$; this is because the probability of a generation dying, starting from a given amoeba, is $p_G$, and we have to have this occur independently on each child of the original parent. 

%Hence, the probability of this whole chain of events (parent survival and gen survival) is the product of the two quantities above (since $P(A \cap B) = P(B | A)P(A)$), and we get $(1-p_d)p_G^2$. 
%\end{enumerate}

% TODO: Possibly make this more rigorous with probability spaces, etc.

\subsection{Problem \ref{pr:amoeba-kdesc}}

Intuitively (or at the very least, "it feels like") the probability of family death ($p_F$) should decrease as $k$ increases.

More significantly, consider the following phenomenon: The "further one gets" along the family tree, the more likely it seems that the family will survive indefinitely. As a brief example, consider having the one starting amoeba versus the two amoebas that come after it in our original (upon successful reproduction) -- our conditional chances are a lot better in the latter case.\footnote{More precisely, as we found earlier, the chances of death are $p_F^2$ after division, as opposed to $p_F$ before it -- and since $0 \leq p_F \leq 1$, $p_F^2 < p_F$.}

Intuitively, as $k$ increases, the degree to which we're "better off" after our first amoeba should be much higher. 

% TODO: There are a LOT of ways (mathematical and intuitive) to go into this -- do them!
% Perhaps even make subsubsections for them.

Following pretty much the exact same train of logic as in Problem \ref{pr:amoeba-basic}, we get the following relation for $p_F$:

\begin{equation}
p_F = p_d + (1-p_d)p_F^k
\end{equation}

Rearranging this as a more "traditional" polynomial in terms of $p_F$, we get:

\begin{equation}
(1-p_d)p_F^k - p_F + p_d = 0
\end{equation}





